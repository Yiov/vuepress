import{_ as r,r as c,o as d,c as v,b as s,d as n,a,w as p,e}from"./app-dacd4370.js";const k="/vuepress/assets/vuepress-41-2cf40f08.png",m="/vuepress/assets/vuepress-42-4ef57bf9.png",h="/vuepress/assets/vuepress-43-0f7c88c1.png",l="/vuepress/assets/vuepress-54-700cd7e6.png",g="/vuepress/assets/vuepress-45-39246a59.png",b="/vuepress/assets/vuepress-46-28066ba8.png",_="/vuepress/assets/vuepress-47-77761589.png",q="/vuepress/assets/vuepress-48-ec11f391.png",f="/vuepress/assets/vuepress-49-e3b78c25.png",y="/vuepress/assets/vuepress-50-ca5234e1.png",x="/vuepress/assets/vuepress-51-cbadbbb3.png",A="/vuepress/assets/vuepress-52-d435f0e5.png",I="/vuepress/assets/vuepress-53-933747aa.png",w="/vuepress/assets/vuepress-55-72bf487c.png",P="/vuepress/assets/vuepress-56-9255f098.png",E="/vuepress/assets/vuepress-57-a1d5b640.png",D="/vuepress/assets/vuepress-58-20c99766.png",C="/vuepress/assets/vuepress-59-e86a3d4f.png",j="/vuepress/assets/vuepress-60-5cd2d079.png",N="/vuepress/assets/vuepress-61-04bb0ab4.png",O="/vuepress/assets/vuepress-62-00d85c91.png",K="/vuepress/assets/vuepress-63-92705f99.png",S="/vuepress/assets/vuepress-64-ed0c0d86.png",F="/vuepress/assets/vuepress-65-375bdf2f.png",B="/vuepress/assets/vuepress-66-ab255480.png",T="/vuepress/assets/vuepress-67-5fc0097c.png",G="/vuepress/assets/vuepress-68-efe9f320.png",L="/vuepress/assets/vuepress-69-8d166611.png",X="/vuepress/assets/vuepress-70-2242a716.png",Y="/vuepress/assets/vuepress-71-cac3f0f8.png",$="/vuepress/assets/vuepress-72-92ea40c7.png",R="/vuepress/assets/vuepress-73-64c903f7.png",V="/vuepress/assets/vuepress-74-9b384dee.png",z="/vuepress/assets/vuepress-75-81121059.png",M="/vuepress/assets/vuepress-76-7ae20c69.png",U="/vuepress/assets/vuepress-77-3afd7da9.png",H="/vuepress/assets/vuepress-78-0abb0f33.png",J="/vuepress/assets/vuepress-79-23034cc2.png",Q="/vuepress/assets/vuepress-80-f224bcf8.png",W="/vuepress/assets/vuepress-81-575d7bb5.png",Z="/vuepress/assets/vuepress-82-84b6fa6a.png",ss="/vuepress/assets/vuepress-83-c8e32e0a.png",ns="/vuepress/assets/vuepress-84-12784c6a.png",as="/vuepress/assets/vuepress-85-517d4989.png",ts="/vuepress/assets/vuepress-86-b4a46c9d.png",u="/vuepress/assets/vuepress-87-d235771a.png",es="/vuepress/assets/vuepress-88-e170d788.png",ps="/vuepress/assets/vuepress-89-b982c2c3.png",os="/vuepress/assets/vuepress-90-9d30c105.png",is="/vuepress/assets/vuepress-91-b8ea020a.png",cs="/vuepress/assets/vuepress-92-af81820b.png",ls="/vuepress/assets/vuepress-93-c589cb72.png",us="/vuepress/assets/vuepress-94-374e4c12.png",rs="/vuepress/assets/vuepress-95-46132bea.png",ds="/vuepress/assets/vuepress-96-434df944.png",vs="/vuepress/assets/vuepress-97-00901f0d.png",ks="/vuepress/assets/vuepress-98-31bb6e91.png",ms="/vuepress/assets/vuepress-99-69519ea9.png",hs={},gs=e('<h1 id="插件" tabindex="-1"><a class="header-anchor" href="#插件" aria-hidden="true">#</a> 插件</h1><div class="custom-container warning"><p class="custom-container-title">更新时间</p><p>最近更新：2023-6-17</p><p>搭建版本：v2.0-beta.61</p></div><h3 id="谷歌分析" tabindex="-1"><a class="header-anchor" href="#谷歌分析" aria-hidden="true">#</a> 谷歌分析</h3>',3),bs={href:"https://analytics.google.com/",target:"_blank",rel:"noopener noreferrer"},_s=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token function"},"pnpm"),n(" i "),s("span",{class:"token parameter variable"},"-D"),n(` @vuepress/plugin-google-analytics@next
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),qs=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token function"},"npm"),n(" i "),s("span",{class:"token parameter variable"},"-D"),n(` @vuepress/plugin-google-analytics@next
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),fs=e(`<div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> googleAnalyticsPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@vuepress/plugin-google-analytics&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">googleAnalyticsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">&#39;G-XXXXXXXXXX&#39;</span><span class="token punctuation">,</span> <span class="token comment">//跟踪ID</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),ys={href:"https://analytics.google.com/",target:"_blank",rel:"noopener noreferrer"},xs=e('<p>点 <code>开始衡量</code></p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>没有账号的注册账号，要翻墙哦</p></div><p><img src="'+k+'" alt=""></p><p>信息随便填，后面都可以改</p><p><img src="'+m+'" alt=""></p><p>创建完成，点网站，输入你自己的网站</p><p><img src="'+h+'" alt=""></p><p><img src="'+l+'" alt=""></p><p>衡量ID就是跟踪ID，我们填入 <code>config.ts</code></p><p><img src="'+g+'" alt=""></p><p>如果不想要了，在账户设置里删除账户</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>删除了在回收站里，要35天后永久删除</p></div><p><img src="'+b+'" alt=""></p><h2 id="docsearch" tabindex="-1"><a class="header-anchor" href="#docsearch" aria-hidden="true">#</a> DocSearch</h2><p>先安装 <code>docsearch</code> 插件</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>安装失败，挂个梯子就可以了</p></div>',16),As=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token comment"},"#这里是pnpm 新增@algolia/client-search"),n(`
`),s("span",{class:"token function"},"pnpm"),n(" i "),s("span",{class:"token parameter variable"},"-D"),n(` @vuepress/plugin-docsearch@next @algolia/client-search
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),Is=s("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token comment"},"#这里就是npm，是yarn也不要自己改"),n(`
`),s("span",{class:"token function"},"npm"),n(" i "),s("span",{class:"token parameter variable"},"-D"),n(` @vuepress/plugin-docsearch@next
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),ws=e('<p><img src="'+_+`" alt=""></p><p>然后再ts里添加配置</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> docsearchPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@vuepress/plugin-docsearch&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">//========docsearch配置========//</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">docsearchPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      appId<span class="token operator">:</span> <span class="token string">&#39;&lt;Application ID&gt;&#39;</span><span class="token punctuation">,</span>
      apiKey<span class="token operator">:</span> <span class="token string">&#39;&lt;Search-Only API Key&gt;&#39;</span><span class="token punctuation">,</span>
      indexName<span class="token operator">:</span> <span class="token string">&#39;&lt;INDEX_NAME&gt;&#39;</span><span class="token punctuation">,</span>
      locales<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;/&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          placeholder<span class="token operator">:</span> <span class="token string">&#39;搜索文档&#39;</span><span class="token punctuation">,</span>
          translations<span class="token operator">:</span> <span class="token punctuation">{</span>
            button<span class="token operator">:</span> <span class="token punctuation">{</span>
              buttonText<span class="token operator">:</span> <span class="token string">&#39;搜索文档&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string-property property">&#39;/en/&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          placeholder<span class="token operator">:</span> <span class="token string">&#39;Search Documentation&#39;</span><span class="token punctuation">,</span>
          translations<span class="token operator">:</span> <span class="token punctuation">{</span>
            button<span class="token operator">:</span> <span class="token punctuation">{</span>
              buttonText<span class="token operator">:</span> <span class="token string">&#39;Search Documentation&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出：</p><p><img src="`+q+'" alt=""></p><p>DocSearch有2种模式，<a href="#%E5%85%8D%E8%B4%B9%E7%94%B3%E8%AF%B7">免费申请</a> 和 <a href="#%E8%87%AA%E8%A1%8C%E7%88%AC%E5%8F%96%E5%89%8D%E5%87%86%E5%A4%87">自行爬取</a></p><div class="custom-container tip"><p class="custom-container-title">区别</p><p>免费申请：可使用algolia官方的爬虫，但是需要提交公开仓库代码链接</p><p>自行爬取：需自行搭建爬虫，不需要提交仓库代码链接</p></div><h3 id="免费申请" tabindex="-1"><a class="header-anchor" href="#免费申请" aria-hidden="true">#</a> 免费申请</h3>',8),Ps={href:"https://docsearch.algolia.com/",target:"_blank",rel:"noopener noreferrer"},Es=e('<p>点 <code>Apply</code> 申请，填入你的网址/邮箱/仓库链接即可</p><p><img src="'+f+'" alt=""></p><p><img src="'+y+'" alt=""></p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>我点了2次都没有跳转，最后挂了个梯子可以了</p></div><p><img src="'+x+'" alt=""></p><p>等待6-7小时，邮件发送过来</p><p>没有注册过的会给我们一个邀请链接，打开并注册账号</p><div class="custom-container warning"><p class="custom-container-title">另外</p><p>这里的appid、indexname我们可以填入 <code>config.ts</code></p><p>但是apikey这个没用，需要 <code>Search-Only API Key</code> 我们一会再填</p></div><p><img src="'+A+'" alt=""></p>',9),Ds={href:"https://www.algolia.com/",target:"_blank",rel:"noopener noreferrer"},Cs=s("code",null,"Search",-1),js=s("code",null,"index",-1),Ns=e('<p>由于官方已经帮我们创建了 <code>Application</code> ，我们直接点接受即可</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>没有弹按钮的，去邮箱复制邀请链接打开就有了</p></div><p><img src="'+I+'" alt=""></p><p><img src="'+l+'" alt=""></p><p>问题发现了，这里的 <code>records</code> 值为0，没有数据，爬取数据有问题</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>点刷新看看，我点了也没有用</p></div><p><img src="'+w+'" alt=""></p>',7),Os={href:"https://crawler.algolia.com/",target:"_blank",rel:"noopener noreferrer"},Ks=e('<p>再点击官方帮我们申请的Application</p><p><img src="'+P+'" alt=""></p><p>点 <code>Overview</code> 进来后发现爬虫数据有的，但是Records没有值，说明数据逻辑有问题</p><p><img src="'+E+'" alt=""></p><p>点 <code>Editor</code> 进来发现了问题，这里多了一个 <code>/doc</code></p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>除了指定位置，其他不要乱改，特别是apikey不要改！和你申请的apikey不是同一个用途</p><p>如果你网址有别名解析或者重定向了，就不能用了，只能用你申请时的网址</p></div><p><img src="'+D+'" alt=""></p><p>改过之后点 <code>Runtest</code> 测试一下，records还是没有值</p><p>原来是class标签不对，用审查元素看了下page也的class是 theme-default-content</p><p><img src="'+C+'" alt=""></p><p>那我们将原来的 <code>.content_default</code> 全部替换成 <code>.theme-default-content</code> 即可</p><p><img src="'+j+'" alt=""></p><p>再次 <code>Run test</code>，可以在 Search Preview 里可以搜素看看</p><p><img src="'+N+'" alt=""></p><p>没问题了点保存，再重新在Overview重新爬取，Records有值就代表OK了</p><p><img src="'+O+'" alt=""></p><p>点击index回到algolia，看数据是否同步过来</p><p><img src="'+K+'" alt=""></p><p>最后，回到主页查看API KEYS，这里我们将 <code>Search API Key</code> 填入 <code>config.ts</code></p><p><img src="'+S+'" alt=""></p><p><img src="'+F+'" alt=""></p><p>本地搜索一下，可以使用了</p>',22),Ss={class:"custom-container tip"},Fs=s("p",{class:"custom-container-title"},"说明",-1),Bs={href:"https://v2.vuepress.vuejs.org/zh/reference/plugin/docsearch.html#%E8%8E%B7%E5%8F%96%E6%90%9C%E7%B4%A2%E7%B4%A2%E5%BC%95",target:"_blank",rel:"noopener noreferrer"},Ts=s("p",null,"免费的东西自然是费脑筋",-1),Gs=s("p",null,[s("img",{src:B,alt:""})],-1),Ls=s("h3",{id:"自行爬取前准备",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#自行爬取前准备","aria-hidden":"true"},"#"),n(" 自行爬取前准备")],-1),Xs=s("p",null,"有点耐心看，我都一步步截图了",-1),Ys={href:"https://www.algolia.com/",target:"_blank",rel:"noopener noreferrer"},$s=e('<div class="custom-container tip"><p class="custom-container-title">说明</p><p>也可以只用github关联登录注册</p></div><p><img src="'+T+'" alt=""></p><p>注册好后，我们在设置里新建一个Application</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>系统会默认给我们建一个，也是可以用的</p></div><p>创建一个新的应用程序 Applications - Create Application</p><p><img src="'+G+'" alt=""></p><p><img src="'+L+'" alt=""></p><p><img src="'+X+'" alt=""></p><p>名称随便，选择 <code>Free</code> 免费的方案，下一步</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>爬虫每月1万次，足够用了</p></div><p><img src="'+Y+'" alt=""></p><p>这里只能选择默认了，香港这些数据中心都不能选择</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>香港的只能通过申请，官方给你配，不过即便是美国实测搜索也慢不了多少</p></div><p><img src="'+$+'" alt=""></p><p>勾选同意，创建即可</p><p><img src="'+R+'" alt=""></p><p>这样就完成了</p><p><img src="'+V+'" alt=""></p><p>创建索引，右下角选择 Date Sources - Indices - Create Index</p><p><img src="'+z+'" alt=""></p><p>这个就是我们的索引名，即 indexName ，后面会用到</p><p><img src="'+M+'" alt=""></p><p>接下来就是准备好我们的API，上面选择创建的Application</p><p>选择 <code>API keys</code></p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>Application ID：应用ID</p><p>Search-Only API Key：搜索API</p><p>Admin API Key：管理API</p><p>indexName：索引名</p></div><p><img src="'+U+'" alt=""></p><p><img src="'+H+'" alt=""></p><p>最后就是爬取索引了，二选一</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>我就是被这个整崩溃了，爬取的索引就是用不了，累计耗时半个月，才搞清里面的逻辑</p></div><h3 id="docker-爬取" tabindex="-1"><a class="header-anchor" href="#docker-爬取" aria-hidden="true">#</a> Docker 爬取</h3>',30),Rs={href:"https://yiov.github.io/website/VMware",target:"_blank",rel:"noopener noreferrer"},Vs={href:"https://yiov.github.io/website/docker",target:"_blank",rel:"noopener noreferrer"},zs={href:"https://yiov.github.io/website/BT",target:"_blank",rel:"noopener noreferrer"},Ms=s("code",null,"root",-1),Us=e('<p>新建一个 <code>docsearch</code> 目录</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>名字随便，只要自己记得住就行</p></div><p><img src="'+J+`" alt=""></p><p>新建一个 <code>.env</code> 环境变量文件，并填入相应值</p><div class="language-env line-numbers-mode" data-ext="env"><pre class="language-env"><code>APPLICATION_ID=你的Application ID
API_KEY=你的Admin API Key(非Search)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+Q+'" alt=""></p>',6),Hs={href:"https://repology.org/project/jq/versions",target:"_blank",rel:"noopener noreferrer"},Js=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#安装jq</span>
yum <span class="token function">install</span> jq <span class="token parameter variable">-y</span>

<span class="token comment">#版本查询</span>
jq <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+W+'" alt=""></p><p>在docsearch目录里新建 <code>config.json</code> 文件，用于爬虫的配置，根据提示修改好自己的链接</p>',3),Qs={class:"custom-container tip"},Ws=s("p",{class:"custom-container-title"},"说明",-1),Zs={href:"https://docsearch.algolia.com/docs/legacy/run-your-own/",target:"_blank",rel:"noopener noreferrer"},sn=s("p",null,[n("最后审查元素发现，有个facetFliter里有个lang， 同时vuepress官方也指出 "),s("code",null,"attributesForFaceting"),n(" 必须包含 "),s("code",null,"lang"),n(" 否则无法使用")],-1),nn=e('<p><img src="'+Z+`" alt=""></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;index_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;你的索引名&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;start_urls&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;https://你的网址.com/&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stop_urls&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;selectors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lvl0&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;selector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.sidebar-heading.active&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;global&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;default_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Documentation&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl5&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content p, .theme-default-content li&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lang&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;selector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/html/@lang&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xpath&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;global&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;custom_settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;attributesForFaceting&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;lang&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>只需要修改 <code>index_name</code> 和 <code>startUrls</code> 其余选项可保持默认</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p><code>stop_urls</code> 表示的是爬虫不爬取的链接</p><p>因为我的vuepress单独做了索引，不需要就屏蔽掉了</p></div><p><img src="`+ss+'" alt=""></p><p>至此我们的前期工作就准备好了，开始爬数据</p><p><img src="'+ns+'" alt=""></p><p>现在我们拉取镜像并运行爬虫</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>格式：docker run -it --env-file=<code>你的env路径</code> -e &quot;CONFIG=$(cat <code>你的配置json路径</code> | jq -r tostring)&quot; algolia/docsearch-scraper`</p><p>比如我，都放在了root目录里的docsearch文件夹里，自己按需修改文件路径</p></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-it</span> --env-file<span class="token operator">=</span>/root/docsearch/.env <span class="token parameter variable">-e</span> <span class="token string">&quot;CONFIG=<span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> /root/docsearch/config.json <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> tostring<span class="token variable">)</span></span>&quot;</span> algolia/docsearch-scraper\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="'+as+'" alt=""></p><p>回到Algolia看到数据已经有了</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>这里成功了会有个 <code>lang：zh_CN</code>，否则有数据也用不了</p></div><p><img src="'+ts+'" alt=""></p><p>在 <code>config.ts</code> 填上数据后，搜索一次看下成果</p><p><img src="'+u+'" alt=""></p><h3 id="github-actions爬取" tabindex="-1"><a class="header-anchor" href="#github-actions爬取" aria-hidden="true">#</a> Github Actions爬取</h3><p>我们先创建一个工作流</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>我因为已经有一个了，我直接新建一个就行</p></div><p><img src="'+es+'" alt=""></p><p><img src="'+ps+'" alt=""></p><p>命名为<code>docsearch.yml</code> ，复制粘贴下面的工作流代码，提交</p><p><img src="'+os+'" alt=""></p>',23),an=s("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[s("pre",{class:"language-yaml"},[s("code",null,[s("span",{class:"token key atrule"},"on"),s("span",{class:"token punctuation"},":"),n(` deployment
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"})])],-1),tn=s("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[s("pre",{class:"language-yaml"},[s("code",null,[s("span",{class:"token key atrule"},"on"),s("span",{class:"token punctuation"},":"),n(`
  `),s("span",{class:"token key atrule"},"push"),s("span",{class:"token punctuation"},":"),n(`
    `),s("span",{class:"token key atrule"},"branches"),s("span",{class:"token punctuation"},":"),n(`
      `),s("span",{class:"token punctuation"},"-"),n(` main
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),en=s("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[s("pre",{class:"language-yaml"},[s("code",null,[s("span",{class:"token key atrule"},"on"),s("span",{class:"token punctuation"},":"),n(`
  `),s("span",{class:"token key atrule"},"schedule"),s("span",{class:"token punctuation"},":"),n(`
    `),s("span",{class:"token comment"},"# 约每天早上8点触发（UTC时间0点）"),n(`
    `),s("span",{class:"token punctuation"},"-"),n(),s("span",{class:"token key atrule"},"cron"),s("span",{class:"token punctuation"},":"),n(),s("span",{class:"token string"},"'0 0 * * *'"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),pn=s("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[s("pre",{class:"language-yaml"},[s("code",null,[s("span",{class:"token key atrule"},"on"),s("span",{class:"token punctuation"},":"),n(`
  `),s("span",{class:"token key atrule"},"workflow_dispatch"),s("span",{class:"token punctuation"},":"),n(`
`)])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),on=e(`<div class="custom-container warning"><p class="custom-container-title">注意</p><p>这里触发的条件自己选，改代码高亮的位置就行，其他不要动</p></div><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># 名字可以自己取</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> docsearch

<span class="token comment"># 提交main分支触发部署</span>
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">algolia</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2

      <span class="token comment"># 一会要建docsearch.json文件</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Get the content of docsearch.json as config
        <span class="token key atrule">id</span><span class="token punctuation">:</span> algolia_config
        <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;<span class="token punctuation">:</span><span class="token punctuation">:</span>set<span class="token punctuation">-</span>output name=config<span class="token punctuation">:</span><span class="token punctuation">:</span>$(cat docsearch.json <span class="token punctuation">|</span> jq <span class="token punctuation">-</span>r tostring)&quot;

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run algolia/docsearch<span class="token punctuation">-</span>scraper image
        <span class="token comment"># 环境变量 ，在仓库设置-安全里添加秘钥</span>
        <span class="token comment"># APPLICATION_ID 是 algoia 的 APPLICATION ID</span>
        <span class="token comment"># API_KEY 是 algolia 的 Admin API KEY</span>
        <span class="token comment"># CONFIG默认即可，无需更改</span>
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">APPLICATION_ID</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.APPLICATION_ID <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">API_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.API_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">CONFIG</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> steps.algolia_config.outputs.config <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          docker run \\
            --env APPLICATION_ID=\${APPLICATION_ID} \\
            --env API_KEY=\${API_KEY} \\
            --env &quot;CONFIG=\${CONFIG}&quot; \\
            algolia/docsearch-scraper</span>

</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+is+'" alt=""></p><p>然后再根目录新建一个 <code>docsearch.json</code> 文件，复制粘贴并提交</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>记得把索引和网址都改成自己的</p></div><p><img src="'+cs+`" alt=""></p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;index_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;你的索引名&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;start_urls&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;https://你的网址.com/&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stop_urls&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;selectors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lvl0&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;selector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.sidebar-heading.active&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;global&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;default_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Documentation&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl5&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content p, .theme-default-content li&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lang&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;selector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/html/@lang&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xpath&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;global&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;custom_settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;attributesForFaceting&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;lang&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><br><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+ls+'" alt=""></p><p><img src="'+us+'" alt=""></p><p>然后再在仓库 - 设置 - Secrets and variables - actions，新增仓库秘钥</p><p><img src="'+rs+'" alt=""></p><p>分别添加 <code>APPLICATION_ID</code> 和 <code>API_KEY</code></p>',12),cn={class:"custom-container warning"},ln=s("p",{class:"custom-container-title"},"注意",-1),un={href:"https://www.algolia.com/",target:"_blank",rel:"noopener noreferrer"},rn=s("code",null,"APPLICATION ID",-1),dn={href:"https://www.algolia.com/",target:"_blank",rel:"noopener noreferrer"},vn=s("code",null,"Admin API Key",-1),kn=s("p",null,"千万不要填错了",-1),mn=e('<p><img src="'+ds+'" alt=""></p><p><img src="'+vs+'" alt=""></p><p>我们提交一次代码，等工作流跑完，我们试试搜索结果</p><p><img src="'+ks+'" alt=""></p><p><img src="'+u+'" alt=""></p><h3 id="索引美化" tabindex="-1"><a class="header-anchor" href="#索引美化" aria-hidden="true">#</a> 索引美化</h3><p>这是官网原文档的索引，有明显的分类，很美观</p><p><img src="'+ms+'" alt=""></p><p>折腾了半天发现，并没有解决</p>',9),hn={href:"https://www.howtocode.io/posts/algolia/how-to-setup-algolia-doc-search#doc-search-config",target:"_blank",rel:"noopener noreferrer"},gn=e(`<details class="custom-container details"><summary>初步尝试 失败</summary><p>我们将在原本的 <code>start_urls</code> 和 <code>selectors</code> 里变更</p><p>这里我们添加一个选择词 <code>selectors_key</code> 和标签</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">/* 原来的
&quot;start_urls&quot;: [
  &quot;https://yiov.github.io/&quot;
],
*/</span>
<span class="token comment">//现在的，使用的时候删掉这段注释</span>
<span class="token property">&quot;start_urls&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;https://yiov.github.io/&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://yiov.github.io/gfw&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;selectors_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gfw&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;gfw&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后创建一个相对应的选择对象，并将 <code>selector</code> 留空， <code>default_value</code> 为搜索结果的标题</p><div class="custom-container warning"><p class="custom-container-title">注意</p><p>这里除了我创建的 <code>gfw</code> ，还有个 <code>default</code> ，是默认的必须要带，是搜索除了gfw以外的所有对象</p></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">/* 原来的
&quot;selectors&quot;: {
    &quot;lvl0&quot;: {
      &quot;selector&quot;: &quot;.sidebar-heading.active&quot;,
      &quot;global&quot;: true,
      &quot;default_value&quot;: &quot;Documentation&quot;
    },
    &quot;lvl1&quot;: &quot;.theme-default-content h1&quot;,
    &quot;lvl2&quot;: &quot;.theme-default-content h2&quot;,
    &quot;lvl3&quot;: &quot;.theme-default-content h3&quot;,
    &quot;lvl4&quot;: &quot;.theme-default-content h4&quot;,
    &quot;lvl5&quot;: &quot;.theme-default-content h5&quot;,
    &quot;text&quot;: &quot;.theme-default-content p, .theme-default-content li&quot;,
    &quot;lang&quot;: {
      &quot;selector&quot;: &quot;/html/@lang&quot;,
      &quot;type&quot;: &quot;xpath&quot;,
      &quot;global&quot;: true
    }
  },
*/</span>
<span class="token comment">//现在的，使用的时候删掉这段注释</span>
<span class="token property">&quot;selectors&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;gfw&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;lvl0&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;selector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;  &quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;global&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;default_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;科学上网&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lvl1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lvl5&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content p, .theme-default-content li&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;default&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;lvl0&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;selector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;global&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;default_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;文档&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lvl1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lvl2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h2&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lvl3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lvl4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h4&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lvl5&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content h5&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.theme-default-content p, .theme-default-content li&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lang&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;selector&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/html/@lang&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xpath&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;global&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="样式美化" tabindex="-1"><a class="header-anchor" href="#样式美化" aria-hidden="true">#</a> 样式美化</h3>`,2),bn={href:"https://docsearch.algolia.com/docs/styling/",target:"_blank",rel:"noopener noreferrer"},_n={href:"http://localhost:8080/vuepress/guide/beautification.html#%E6%A0%B7%E5%BC%8F%E7%BE%8E%E5%8C%96",target:"_blank",rel:"noopener noreferrer"},qn=e(`<div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--docsearch-primary-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>84<span class="token punctuation">,</span> 104<span class="token punctuation">,</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-text-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>28<span class="token punctuation">,</span> 30<span class="token punctuation">,</span> 33<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-spacing</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
  <span class="token property">--docsearch-icon-stroke-width</span><span class="token punctuation">:</span> 1.4<span class="token punctuation">;</span>
  <span class="token property">--docsearch-highlight-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--docsearch-primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-muted-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>150<span class="token punctuation">,</span> 159<span class="token punctuation">,</span> 175<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-container-background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>101<span class="token punctuation">,</span> 108<span class="token punctuation">,</span> 133<span class="token punctuation">,</span> 0.8<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-logo-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>84<span class="token punctuation">,</span> 104<span class="token punctuation">,</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/* modal */</span>
  <span class="token property">--docsearch-modal-width</span><span class="token punctuation">:</span> 560px<span class="token punctuation">;</span>
  <span class="token property">--docsearch-modal-height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token property">--docsearch-modal-background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>245<span class="token punctuation">,</span> 246<span class="token punctuation">,</span> 247<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-modal-shadow</span><span class="token punctuation">:</span> inset 1px 1px 0 0 <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">,</span> 0 3px
      8px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>85<span class="token punctuation">,</span> 90<span class="token punctuation">,</span> 100<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/* searchbox */</span>
  <span class="token property">--docsearch-searchbox-height</span><span class="token punctuation">:</span> 56px<span class="token punctuation">;</span>
  <span class="token property">--docsearch-searchbox-background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>235<span class="token punctuation">,</span> 237<span class="token punctuation">,</span> 240<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-searchbox-focus-background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">--docsearch-searchbox-shadow</span><span class="token punctuation">:</span> inset 0 0 0 2px <span class="token function">var</span><span class="token punctuation">(</span>--docsearch-primary-color<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/* hit */</span>
  <span class="token property">--docsearch-hit-height</span><span class="token punctuation">:</span> 56px<span class="token punctuation">;</span>
  <span class="token property">--docsearch-hit-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>68<span class="token punctuation">,</span> 73<span class="token punctuation">,</span> 80<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-hit-active-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">--docsearch-hit-background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">--docsearch-hit-shadow</span><span class="token punctuation">:</span> 0 1px 3px 0 <span class="token function">rgb</span><span class="token punctuation">(</span>212<span class="token punctuation">,</span> 217<span class="token punctuation">,</span> 225<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/* key */</span>
  <span class="token property">--docsearch-key-gradient</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>
    -225deg<span class="token punctuation">,</span>
    <span class="token function">rgb</span><span class="token punctuation">(</span>213<span class="token punctuation">,</span> 219<span class="token punctuation">,</span> 228<span class="token punctuation">)</span> 0%<span class="token punctuation">,</span>
    <span class="token function">rgb</span><span class="token punctuation">(</span>248<span class="token punctuation">,</span> 248<span class="token punctuation">,</span> 248<span class="token punctuation">)</span> 100%
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--docsearch-key-shadow</span><span class="token punctuation">:</span> inset 0 -2px 0 0 <span class="token function">rgb</span><span class="token punctuation">(</span>205<span class="token punctuation">,</span> 205<span class="token punctuation">,</span> 230<span class="token punctuation">)</span><span class="token punctuation">,</span> inset 0 0 1px 1px
      #fff<span class="token punctuation">,</span> 0 1px 2px 1px <span class="token function">rgba</span><span class="token punctuation">(</span>30<span class="token punctuation">,</span> 35<span class="token punctuation">,</span> 90<span class="token punctuation">,</span> 0.4<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/* footer */</span>
  <span class="token property">--docsearch-footer-height</span><span class="token punctuation">:</span> 44px<span class="token punctuation">;</span>
  <span class="token property">--docsearch-footer-background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">--docsearch-footer-shadow</span><span class="token punctuation">:</span> 0 -1px 0 0 <span class="token function">rgb</span><span class="token punctuation">(</span>224<span class="token punctuation">,</span> 227<span class="token punctuation">,</span> 232<span class="token punctuation">)</span><span class="token punctuation">,</span> 0 -3px 6px 0 <span class="token function">rgba</span><span class="token punctuation">(</span>69<span class="token punctuation">,</span> 98<span class="token punctuation">,</span> 155<span class="token punctuation">,</span> 0.12<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function fn(yn,xn){const t=c("ExternalLinkIcon"),o=c("CodeGroupItem"),i=c("CodeGroup");return d(),v("div",null,[gs,s("p",null,[n("利用插件 "),s("a",bs,[n("google-analytics"),a(t)]),n(" ，来查看网站访问量")]),a(i,null,{default:p(()=>[a(o,{title:"pnpm"},{default:p(()=>[_s]),_:1}),a(o,{title:"yarn"},{default:p(()=>[qs]),_:1})]),_:1}),fs,s("p",null,[n("谷歌分析官网："),s("a",ys,[n("https://analytics.google.com/"),a(t)])]),xs,a(i,null,{default:p(()=>[a(o,{title:"pnpm"},{default:p(()=>[As]),_:1}),a(o,{title:"yarn"},{default:p(()=>[Is]),_:1})]),_:1}),ws,s("p",null,[n("DocSearch官网："),s("a",Ps,[n("https://docsearch.algolia.com/"),a(t)])]),Es,s("p",null,[n("通过邀请链接注册并登录进"),s("a",Ds,[n("Algolia官网"),a(t)]),n("，点 "),Cs,n(" - "),js]),Ns,s("p",null,[n("登录官方爬虫后台进行调试："),s("a",Os,[n("https://crawler.algolia.com/"),a(t)])]),Ks,s("div",Ss,[Fs,s("p",null,[n("如果还是不行，就对照 "),s("a",Bs,[n("vuepress文档"),a(t)]),n(" 挨个试")]),Ts]),Gs,Ls,Xs,s("p",null,[s("a",Ys,[n("Algolia官网"),a(t)]),n(" 注册并登录账号")]),$s,s("p",null,[n("我用了 "),s("a",Rs,[n("虚拟机"),a(t)]),n(" 安装了 "),s("a",Vs,[n("docker"),a(t)]),n("，进 "),s("a",zs,[n("宝塔"),a(t)]),n(" 根目录 "),Ms,n("文件夹")]),Us,s("p",null,[n("安装 "),s("a",Hs,[n("jq"),a(t)]),n(" 一款json解析工具")]),Js,s("div",Qs,[Ws,s("p",null,[n("当时就是卡在这里了，网上的版本尝试了无数次都不行,于是对照着 "),s("a",Zs,[n("algolia官方旧文档"),a(t)]),n(" 挨个试")]),sn]),nn,a(i,null,{default:p(()=>[a(o,{title:"发布后触发"},{default:p(()=>[an]),_:1}),a(o,{title:"提交后触发"},{default:p(()=>[tn]),_:1}),a(o,{title:"定时触发"},{default:p(()=>[en]),_:1}),a(o,{title:"手动触发"},{default:p(()=>[pn]),_:1})]),_:1}),on,s("div",cn,[ln,s("p",null,[n("APPLICATION_ID是 "),s("a",un,[n("algolia"),a(t)]),n(" 的 "),rn]),s("p",null,[n("API_KEY是 "),s("a",dn,[n("algolia"),a(t)]),n(" 的 "),vn]),kn]),mn,s("p",null,[n("找到了一个 "),s("a",hn,[n("相对完善的解答：@How to setup Algolia DocSearch"),a(t)]),n(" ，但是依然没搞定，这个放在以后弄吧")]),gn,s("p",null,[n("你可以通过 "),s("a",bn,[n("@docsearch/css"),a(t)]),n(" 提供的 CSS 变量来自定义样式")]),s("p",null,[n("如果你不懂方法，"),s("a",_n,[n("可以参照样式美化的方法"),a(t)])]),qn])}const In=r(hs,[["render",fn],["__file","plugin.html.vue"]]);export{In as default};
